<!DOCTYPE html>
<html>
<head>
  <title>Quiz Maker</title>
</head>
<body>
  <h1>Quiz Maker</h1>
  <form id="quiz-form">
    <label for="question">Frage:</label>
    <input type="text" id="question" name="question"><br><br>
    
    <label for="option1">Option 1:</label>
    <input type="text" id="option1" name="option1"><br><br>
    
    <label for="option2">Option 2:</label>
    <input type="text" id="option2" name="option2"><br><br>
    
    <label for="option3">Option 3:</label>
    <input type="text" id="option3" name="option3"><br><br>
    
    <label for="option4">Option 4:</label>
    <input type="text" id="option4" name="option4"><br><br>

    <label for="correctOption">Richtige Antwort:</label>
    <select id="correctOption" name="correctOption">
      <option value="option1">Option 1</option>
      <option value="option2">Option 2</option>
      <option value="option3">Option 3</option>
      <option value="option4">Option 4</option>
    </select><br><br>
    
    <input type="button" value="Frage hinzuf端gen" onclick="addQuestion()">
  </form>
  
  <script>
    function addQuestion() {
      const questionInput = document.getElementById('question')
      const option1Input = document.getElementById('option1')
      const option2Input = document.getElementById('option2')
      const option3Input = document.getElementById('option3')
      const option4Input = document.getElementById('option4')
      const correctOptionInput = document.getElementById('correctOption')

      const question = {
        question: questionInput.value,
        options: [
          { answer: option1Input.value, isCorrect: correctOptionInput.value === 'option1' },
          { answer: option2Input.value, isCorrect: correctOptionInput.value === 'option2' },
          { answer: option3Input.value, isCorrect: correctOptionInput.value === 'option3' },
          { answer: option4Input.value, isCorrect: correctOptionInput.value === 'option4' }
        ]
      }

      fetch('http://localhost:7777/quiz', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(question)
      })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            alert('Frage erfolgreich hinzugef端gt!')
            questionInput.value = ''
            option1Input.value = ''
            option2Input.value = ''
            option3Input.value = ''
            option4Input.value = ''
            correctOptionInput.value = 'option1'
          } else {
            alert('Fehler beim Hinzuf端gen der Frage: ' + data.message)
          }
        })
        .catch(error => {
          console.error('Fehler beim Hinzuf端gen der Frage:', error)
          alert('Ein Fehler ist aufgetreten.')
        })
    }
  </script>
</body>
</html>
